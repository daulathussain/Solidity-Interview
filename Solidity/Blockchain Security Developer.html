<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üîê Blockchain Security Developer Roadmap</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        line-height: 1.6;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        color: #333;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .hero {
        text-align: center;
        padding: 60px 0;
        color: white;
      }

      .hero h1 {
        font-size: 3.5rem;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        animation: fadeInUp 1s ease-out;
      }

      .hero .subtitle {
        font-size: 1.3rem;
        opacity: 0.9;
        margin-bottom: 30px;
        animation: fadeInUp 1s ease-out 0.2s both;
      }

      .badges {
        display: flex;
        justify-content: center;
        gap: 15px;
        flex-wrap: wrap;
        margin-bottom: 40px;
        animation: fadeInUp 1s ease-out 0.4s both;
      }

      .badge {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        padding: 8px 16px;
        border-radius: 25px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .badge:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
      }

      .progress-tracker {
        background: white;
        border-radius: 20px;
        padding: 30px;
        margin: 40px 0;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        animation: slideInUp 0.8s ease-out;
      }

      .progress-header {
        text-align: center;
        margin-bottom: 30px;
      }

      .progress-header h2 {
        color: #4a5568;
        font-size: 2rem;
        margin-bottom: 10px;
      }

      .overall-progress {
        background: #f7fafc;
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 30px;
      }

      .progress-bar {
        background: #e2e8f0;
        border-radius: 10px;
        height: 20px;
        overflow: hidden;
        margin-bottom: 15px;
      }

      .progress-fill {
        background: linear-gradient(90deg, #48bb78, #38a169);
        height: 100%;
        border-radius: 10px;
        transition: width 0.5s ease;
        position: relative;
      }

      .progress-fill::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
        animation: shimmer 2s infinite;
      }

      .progress-text {
        text-align: center;
        font-weight: 600;
        color: #4a5568;
      }

      .phases-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 30px;
        margin: 40px 0;
      }

      .phase-card {
        background: white;
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        border-left: 5px solid;
        position: relative;
        overflow: hidden;
      }

      .phase-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, var(--phase-color), transparent);
      }

      .phase-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      }

      .phase-1 {
        --phase-color: #ff6b6b;
        border-left-color: #ff6b6b;
      }
      .phase-2 {
        --phase-color: #4ecdc4;
        border-left-color: #4ecdc4;
      }
      .phase-3 {
        --phase-color: #45b7d1;
        border-left-color: #45b7d1;
      }
      .phase-4 {
        --phase-color: #96ceb4;
        border-left-color: #96ceb4;
      }
      .phase-5 {
        --phase-color: #ffeaa7;
        border-left-color: #ffeaa7;
      }
      .phase-6 {
        --phase-color: #dda0dd;
        border-left-color: #dda0dd;
      }
      .phase-7 {
        --phase-color: #98d8c8;
        border-left-color: #98d8c8;
      }

      .phase-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 20px;
      }

      .phase-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: #2d3748;
      }

      .phase-duration {
        background: var(--phase-color);
        color: white;
        padding: 5px 12px;
        border-radius: 15px;
        font-size: 0.8rem;
        font-weight: 600;
      }

      .checklist {
        list-style: none;
      }

      .checklist-item {
        display: flex;
        align-items: center;
        margin: 15px 0;
        padding: 12px;
        background: #f8fafc;
        border-radius: 10px;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .checklist-item:hover {
        background: #edf2f7;
        transform: translateX(5px);
      }

      .checkbox {
        width: 20px;
        height: 20px;
        border: 2px solid #cbd5e0;
        border-radius: 4px;
        margin-right: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .checkbox.checked {
        background: var(--phase-color);
        border-color: var(--phase-color);
      }

      .checkbox.checked::after {
        content: "‚úì";
        color: white;
        font-weight: bold;
        font-size: 14px;
      }

      .checklist-text {
        flex: 1;
        color: #4a5568;
        font-weight: 500;
      }

      .checklist-item.completed .checklist-text {
        text-decoration: line-through;
        opacity: 0.6;
      }

      .tools-section {
        background: white;
        border-radius: 20px;
        padding: 40px;
        margin: 40px 0;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
      }

      .tools-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 25px;
        margin-top: 30px;
      }

      .tool-card {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 25px;
        border-radius: 15px;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .tool-card:hover {
        transform: scale(1.05);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
      }

      .tool-card h4 {
        font-size: 1.3rem;
        margin-bottom: 10px;
      }

      .tool-card p {
        opacity: 0.9;
        font-size: 0.95rem;
      }

      .stats-section {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 25px;
        margin: 40px 0;
      }

      .stat-card {
        background: white;
        padding: 30px;
        border-radius: 15px;
        text-align: center;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .stat-card:hover {
        transform: translateY(-5px);
      }

      .stat-number {
        font-size: 2.5rem;
        font-weight: 800;
        color: #4299e1;
        margin-bottom: 10px;
      }

      .stat-label {
        color: #718096;
        font-weight: 600;
        text-transform: uppercase;
        font-size: 0.9rem;
      }

      .floating-nav {
        position: fixed;
        top: 50%;
        right: 30px;
        transform: translateY(-50%);
        z-index: 1000;
        background: white;
        border-radius: 25px;
        padding: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        backdrop-filter: blur(10px);
      }

      .nav-item {
        display: block;
        width: 15px;
        height: 15px;
        border-radius: 50%;
        background: #cbd5e0;
        margin: 10px 0;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
      }

      .nav-item.active {
        background: #4299e1;
        transform: scale(1.3);
      }

      .nav-item:hover {
        background: #4299e1;
        transform: scale(1.2);
      }

      .nav-tooltip {
        position: absolute;
        right: 25px;
        top: 50%;
        transform: translateY(-50%);
        background: #2d3748;
        color: white;
        padding: 8px 12px;
        border-radius: 6px;
        font-size: 0.8rem;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: all 0.3s ease;
      }

      .nav-tooltip::after {
        content: "";
        position: absolute;
        left: 100%;
        top: 50%;
        transform: translateY(-50%);
        border: 6px solid transparent;
        border-left-color: #2d3748;
      }

      .nav-item:hover .nav-tooltip {
        opacity: 1;
      }

      .section {
        margin: 60px 0;
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.6s ease;
      }

      .section.visible {
        opacity: 1;
        transform: translateY(0);
      }

      .section-title {
        font-size: 2.5rem;
        color: #2d3748;
        margin-bottom: 30px;
        text-align: center;
        position: relative;
      }

      .section-title::after {
        content: "";
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 4px;
        background: linear-gradient(90deg, #4299e1, #667eea);
        border-radius: 2px;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideInUp {
        from {
          opacity: 0;
          transform: translateY(50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes shimmer {
        0% {
          transform: translateX(-100%);
        }
        100% {
          transform: translateX(100%);
        }
      }

      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 2000;
        animation: fadeIn 0.3s ease;
      }

      .modal-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: white;
        padding: 40px;
        border-radius: 20px;
        max-width: 600px;
        width: 90%;
        max-height: 80vh;
        overflow-y: auto;
      }

      .close-modal {
        position: absolute;
        top: 15px;
        right: 20px;
        background: none;
        border: none;
        font-size: 2rem;
        cursor: pointer;
        color: #718096;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @media (max-width: 768px) {
        .hero h1 {
          font-size: 2.5rem;
        }

        .floating-nav {
          display: none;
        }

        .phases-container {
          grid-template-columns: 1fr;
        }

        .container {
          padding: 10px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Hero Section -->
      <div class="hero">
        <h1>üîê Blockchain Security Developer Roadmap</h1>
        <p class="subtitle">
          Your comprehensive guide to becoming a Blockchain Security Expert
        </p>
        <div class="badges">
          <span class="badge">üõ°Ô∏è Security Expert</span>
          <span class="badge">‚ö° Smart Contracts</span>
          <span class="badge">üîç Auditing</span>
          <span class="badge">üöÄ DeFi Security</span>
        </div>
      </div>

      <!-- Progress Tracker -->
      <div class="progress-tracker section" id="progress">
        <div class="progress-header">
          <h2>üìà Your Learning Progress</h2>
          <p>Track your journey to becoming a blockchain security expert</p>
        </div>

        <div class="overall-progress">
          <h3>Overall Progress</h3>
          <div class="progress-bar">
            <div
              class="progress-fill"
              id="overallProgress"
              style="width: 0%"
            ></div>
          </div>
          <div class="progress-text">
            <span id="progressText">0% Complete</span> ‚Ä¢
            <span id="completedTasks">0</span> of
            <span id="totalTasks">0</span> tasks completed
          </div>
        </div>

        <div class="stats-section">
          <div class="stat-card">
            <div class="stat-number" id="hoursSpent">0</div>
            <div class="stat-label">Hours Spent</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="skillsLearned">0</div>
            <div class="stat-label">Skills Learned</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="phasesCompleted">0</div>
            <div class="stat-label">Phases Done</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="currentStreak">0</div>
            <div class="stat-label">Day Streak</div>
          </div>
        </div>
      </div>

      <!-- Learning Phases -->
      <div class="section" id="phases">
        <h2 class="section-title">üó∫Ô∏è Learning Phases</h2>
        <div class="phases-container" id="phasesContainer">
          <!-- Phases will be dynamically generated -->
        </div>
      </div>

      <!-- Essential Tools -->
      <div class="section" id="tools">
        <div class="tools-section">
          <h2 class="section-title">üõ†Ô∏è Essential Tools & Resources</h2>
          <div class="tools-grid">
            <div class="tool-card" onclick="showToolDetails('hardhat')">
              <h4>‚öíÔ∏è Hardhat</h4>
              <p>
                Ethereum development environment for professionals. Compile,
                deploy, test, and debug your smart contracts.
              </p>
            </div>
            <div class="tool-card" onclick="showToolDetails('slither')">
              <h4>üîç Slither</h4>
              <p>
                Static analysis framework for Solidity. Detect vulnerabilities
                and code quality issues automatically.
              </p>
            </div>
            <div class="tool-card" onclick="showToolDetails('mythril')">
              <h4>üõ°Ô∏è Mythril</h4>
              <p>
                Security analysis tool for Ethereum smart contracts. Uses
                symbolic execution to find bugs.
              </p>
            </div>
            <div class="tool-card" onclick="showToolDetails('echidna')">
              <h4>üß™ Echidna</h4>
              <p>
                Property-based fuzzer for Ethereum smart contracts. Test
                invariants and edge cases.
              </p>
            </div>
            <div class="tool-card" onclick="showToolDetails('remix')">
              <h4>üíª Remix IDE</h4>
              <p>
                Browser-based IDE for smart contract development. Perfect for
                learning and prototyping.
              </p>
            </div>
            <div class="tool-card" onclick="showToolDetails('metamask')">
              <h4>ü¶ä MetaMask</h4>
              <p>
                Crypto wallet and gateway to blockchain apps. Essential for
                testing and interacting with DApps.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Floating Navigation -->
    <div class="floating-nav">
      <a href="#progress" class="nav-item active" data-section="progress">
        <span class="nav-tooltip">Progress</span>
      </a>
      <a href="#phases" class="nav-item" data-section="phases">
        <span class="nav-tooltip">Phases</span>
      </a>
      <a href="#tools" class="nav-item" data-section="tools">
        <span class="nav-tooltip">Tools</span>
      </a>
    </div>

    <!-- Modal for Tool Details -->
    <div class="modal" id="toolModal">
      <div class="modal-content">
        <button class="close-modal" onclick="closeModal()">&times;</button>
        <div id="modalContent">
          <!-- Dynamic content will be inserted here -->
        </div>
      </div>
    </div>

    <script>
      // Phase data
      const phases = [
        {
          id: 1,
          title: "Foundation Knowledge",
          duration: "2-3 months",
          tasks: [
            "Learn programming fundamentals",
            "Understand variables, functions, loops",
            "Study object-oriented programming",
            "Learn data structures and algorithms",
            "Understand cryptography basics",
            "Study hash functions",
            "Learn digital signatures",
            "Understand public-key cryptography",
          ],
        },
        {
          id: 2,
          title: "Core Technologies",
          duration: "3-4 months",
          tasks: [
            "Master Solidity programming",
            "Learn JavaScript/TypeScript",
            "Understand blockchain fundamentals",
            "Study consensus mechanisms",
            "Learn about smart contract platforms",
            "Understand Ethereum Virtual Machine",
            "Study transaction lifecycle",
            "Learn about gas optimization",
          ],
        },
        {
          id: 3,
          title: "Security Fundamentals",
          duration: "2-3 months",
          tasks: [
            "Learn cybersecurity principles",
            "Understand CIA triad",
            "Study authentication methods",
            "Learn authorization concepts",
            "Understand threat modeling",
            "Study network security",
            "Learn about SSL/TLS",
            "Understand VPNs and firewalls",
          ],
        },
        {
          id: 4,
          title: "Smart Contract Security",
          duration: "4-5 months",
          tasks: [
            "Learn common vulnerabilities",
            "Understand reentrancy attacks",
            "Study integer overflow/underflow",
            "Learn access control issues",
            "Understand front-running",
            "Study flash loan attacks",
            "Learn testing frameworks",
            "Practice with Hardhat/Truffle",
          ],
        },
        {
          id: 5,
          title: "Auditing & Testing",
          duration: "3-4 months",
          tasks: [
            "Master static analysis tools",
            "Learn Slither framework",
            "Use Mythril for analysis",
            "Practice with Securify",
            "Learn dynamic analysis",
            "Use Echidna for fuzzing",
            "Practice Manticore",
            "Develop audit methodology",
          ],
        },
        {
          id: 6,
          title: "Advanced Topics",
          duration: "4-6 months",
          tasks: [
            "Study DeFi security",
            "Learn AMM vulnerabilities",
            "Understand oracle manipulation",
            "Study NFT security",
            "Learn Layer 2 solutions",
            "Understand formal verification",
            "Practice symbolic execution",
            "Advanced fuzzing techniques",
          ],
        },
        {
          id: 7,
          title: "Professional Development",
          duration: "Ongoing",
          tasks: [
            "Build professional portfolio",
            "Complete security certifications",
            "Contribute to open source",
            "Attend conferences",
            "Join security communities",
            "Publish research papers",
            "Mentor other developers",
            "Lead security audits",
          ],
        },
      ];

      // Tool details
      const toolDetails = {
        hardhat: {
          title: "‚öíÔ∏è Hardhat",
          description:
            "Hardhat is a development environment for Ethereum that helps developers manage and automate the recurring tasks inherent to building smart contracts and dApps.",
          features: [
            "Built-in Hardhat Network for testing",
            "Flexible and extensible task runner",
            "TypeScript support out of the box",
            "Sophisticated debugging capabilities",
            "Plugin ecosystem for extended functionality",
          ],
          getStarted: "npm install --save-dev hardhat",
          links: [
            "https://hardhat.org/",
            "https://github.com/NomicFoundation/hardhat",
          ],
        },
        slither: {
          title: "üîç Slither",
          description:
            "Slither is a Solidity static analysis framework written in Python. It runs a suite of vulnerability detectors and provides visual information about contract details.",
          features: [
            "Detects vulnerable Solidity code with low false positives",
            "Identifies where the error condition occurs in the source code",
            "Easily integrable into continuous integration",
            "Built-in 'printers' quickly report crucial contract information",
            "Detector API to write custom analyses",
          ],
          getStarted: "pip3 install slither-analyzer",
          links: [
            "https://github.com/crytic/slither",
            "https://blog.trailofbits.com/2018/10/19/slither-a-solidity-static-analysis-framework/",
          ],
        },
        mythril: {
          title: "üõ°Ô∏è Mythril",
          description:
            "Mythril is a security analysis tool for Ethereum smart contracts. It detects security vulnerabilities in bytecode using symbolic analysis, taint analysis and control flow checking.",
          features: [
            "Security analysis of Ethereum smart contracts",
            "Symbolic execution and taint analysis",
            "Control flow checking",
            "Detection of common vulnerability patterns",
            "Integration with development tools",
          ],
          getStarted: "pip3 install mythril",
          links: [
            "https://github.com/ConsenSys/mythril",
            "https://mythril-classic.readthedocs.io/",
          ],
        },
        echidna: {
          title: "üß™ Echidna",
          description:
            "Echidna is a Haskell program designed for fuzzing/property-based testing of Ethereum smart contracts. It uses sophisticated grammar-based fuzzing campaigns based on a contract ABI.",
          features: [
            "Property-based testing for smart contracts",
            "Grammar-based fuzzing campaigns",
            "Integration with Slither for better results",
            "Support for assertion and property testing",
            "Detailed test case minimization",
          ],
          getStarted:
            "Visit the GitHub repository for installation instructions",
          links: [
            "https://github.com/crytic/echidna",
            "https://blog.trailofbits.com/2020/03/30/an-echidna-for-all-seasons/",
          ],
        },
        remix: {
          title: "üíª Remix IDE",
          description:
            "Remix is a powerful, open source tool that helps you write Solidity contracts straight from the browser. It's perfect for learning and prototyping smart contracts.",
          features: [
            "Browser-based IDE with no setup required",
            "Built-in compiler and debugger",
            "Integration with various plugins",
            "Direct deployment to testnets and mainnet",
            "File management and version control",
          ],
          getStarted: "Visit remix.ethereum.org to start coding",
          links: [
            "https://remix.ethereum.org/",
            "https://github.com/ethereum/remix-project",
          ],
        },
        metamask: {
          title: "ü¶ä MetaMask",
          description:
            "MetaMask is a crypto wallet and gateway to blockchain apps. It allows you to manage your Ethereum accounts and interact with decentralized applications right from your browser.",
          features: [
            "Secure wallet for storing ETH and ERC-20 tokens",
            "Browser extension for easy access",
            "Connection to multiple networks",
            "DApp browser integration",
            "Hardware wallet support",
          ],
          getStarted: "Install the browser extension from metamask.io",
          links: [
            "https://metamask.io/",
            "https://github.com/MetaMask/metamask-extension",
          ],
        },
      };

      // State management
      let completedTasks = new Set();
      let userStats = {
        hoursSpent: 0,
        skillsLearned: 0,
        currentStreak: 0,
        phasesCompleted: 0,
      };

      // Initialize the application
      function init() {
        // Reset stats to ensure clean start
        userStats = {
          hoursSpent: 0,
          skillsLearned: 0,
          currentStreak: 1,
          phasesCompleted: 0,
        };

        renderPhases();
        loadProgress();
        updateStats();
        setupIntersectionObserver();
        setupNavigation();

        // Initial progress update
        setTimeout(() => {
          updateOverallProgress();
        }, 500);
      }

      // Render all phases
      function renderPhases() {
        const container = document.getElementById("phasesContainer");
        container.innerHTML = "";

        phases.forEach((phase) => {
          const phaseCard = createPhaseCard(phase);
          container.appendChild(phaseCard);
        });

        updateTaskCounts();
      }

      // Create a phase card
      function createPhaseCard(phase) {
        const card = document.createElement("div");
        card.className = `phase-card phase-${phase.id}`;
        card.innerHTML = `
                <div class="phase-header">
                    <h3 class="phase-title">Phase ${phase.id}: ${
          phase.title
        }</h3>
                    <span class="phase-duration">${phase.duration}</span>
                </div>
                <ul class="checklist">
                    ${phase.tasks
                      .map(
                        (task, index) => `
                        <li class="checklist-item" data-phase="${phase.id}" data-task="${index}">
                            <div class="checkbox"></div>
                            <span class="checklist-text">${task}</span>
                        </li>
                    `
                      )
                      .join("")}
                </ul>
            `;

        // Add click listeners to checklist items
        const checklistItems = card.querySelectorAll(".checklist-item");
        checklistItems.forEach((item) => {
          item.addEventListener("click", () => toggleTask(item));
        });

        return card;
      }

      // Toggle task completion
      function toggleTask(item) {
        const phase = item.dataset.phase;
        const task = item.dataset.task;
        const taskId = `${phase}-${task}`;

        const checkbox = item.querySelector(".checkbox");
        const isCompleted = completedTasks.has(taskId);

        if (isCompleted) {
          completedTasks.delete(taskId);
          checkbox.classList.remove("checked");
          item.classList.remove("completed");
          userStats.hoursSpent = Math.max(0, userStats.hoursSpent - 2);
          userStats.skillsLearned = Math.max(0, userStats.skillsLearned - 1);
        } else {
          completedTasks.add(taskId);
          checkbox.classList.add("checked");
          item.classList.add("completed");
          userStats.hoursSpent += 2;
          userStats.skillsLearned += 1;

          // Animate completion
          item.style.animation = "fadeInUp 0.5s ease";

          // Show celebration effect
          showCelebration(item);
        }

        updateOverallProgress();
        updateStats();
        saveProgress();
      }

      // Show celebration effect
      function showCelebration(item) {
        const rect = item.getBoundingClientRect();
        const celebration = document.createElement("div");
        celebration.innerHTML = "üéâ";
        celebration.style.cssText = `
                position: fixed;
                left: ${rect.left + rect.width / 2}px;
                top: ${rect.top + rect.height / 2}px;
                font-size: 2rem;
                pointer-events: none;
                z-index: 1000;
                animation: celebrationPop 1s ease-out forwards;
            `;

        // Add celebration animation
        const style = document.createElement("style");
        style.textContent = `
                @keyframes celebrationPop {
                    0% { transform: scale(0) translateY(0); opacity: 1; }
                    50% { transform: scale(1.5) translateY(-20px); opacity: 1; }
                    100% { transform: scale(0) translateY(-40px); opacity: 0; }
                }
            `;
        document.head.appendChild(style);
        document.body.appendChild(celebration);

        setTimeout(() => {
          document.body.removeChild(celebration);
          document.head.removeChild(style);
        }, 1000);
      }

      // Update overall progress
      function updateOverallProgress() {
        const totalTasks = phases.reduce(
          (sum, phase) => sum + phase.tasks.length,
          0
        );
        const completed = completedTasks.size;
        const percentage =
          totalTasks > 0 ? Math.round((completed / totalTasks) * 100) : 0;

        document.getElementById(
          "overallProgress"
        ).style.width = `${percentage}%`;
        document.getElementById(
          "progressText"
        ).textContent = `${percentage}% Complete`;
        document.getElementById("completedTasks").textContent = completed;
        document.getElementById("totalTasks").textContent = totalTasks;

        // Update phases completed
        let phasesCompleted = 0;
        phases.forEach((phase) => {
          const phaseTasksCompleted = phase.tasks.filter((_, index) =>
            completedTasks.has(`${phase.id}-${index}`)
          ).length;
          if (phaseTasksCompleted === phase.tasks.length) {
            phasesCompleted++;
          }
        });

        userStats.phasesCompleted = phasesCompleted;
      }

      // Update task counts
      function updateTaskCounts() {
        const totalTasks = phases.reduce(
          (sum, phase) => sum + phase.tasks.length,
          0
        );
        document.getElementById("totalTasks").textContent = totalTasks;
      }

      // Update statistics
      function updateStats() {
        // Ensure all values are non-negative
        userStats.hoursSpent = Math.max(0, userStats.hoursSpent);
        userStats.skillsLearned = Math.max(0, userStats.skillsLearned);
        userStats.phasesCompleted = Math.max(0, userStats.phasesCompleted);
        userStats.currentStreak = Math.max(0, userStats.currentStreak);

        // Update DOM elements with proper values
        document.getElementById("hoursSpent").textContent =
          userStats.hoursSpent;
        document.getElementById("skillsLearned").textContent =
          userStats.skillsLearned;
        document.getElementById("phasesCompleted").textContent =
          userStats.phasesCompleted;
        document.getElementById("currentStreak").textContent =
          userStats.currentStreak;
      }

      // Animate number changes
      function animateNumber(elementId, targetValue) {
        const element = document.getElementById(elementId);
        const currentValue = parseInt(element.textContent) || 0;
        const increment = targetValue > currentValue ? 1 : -1;
        const duration = 500;
        const steps = Math.abs(targetValue - currentValue);
        const stepDuration = steps > 0 ? duration / steps : 0;

        let current = currentValue;
        const timer = setInterval(() => {
          current += increment;
          element.textContent = current;

          if (current === targetValue) {
            clearInterval(timer);
          }
        }, stepDuration);
      }

      // Show tool details in modal
      function showToolDetails(toolKey) {
        const tool = toolDetails[toolKey];
        if (!tool) return;

        const modalContent = document.getElementById("modalContent");
        modalContent.innerHTML = `
                <h2>${tool.title}</h2>
                <p style="margin-bottom: 20px; color: #4a5568; font-size: 1.1rem;">${
                  tool.description
                }</p>
                
                <h3 style="color: #2d3748; margin-bottom: 15px;">üåü Key Features</h3>
                <ul style="margin-bottom: 25px;">
                    ${tool.features
                      .map(
                        (feature) =>
                          `<li style="margin: 8px 0; color: #4a5568;">${feature}</li>`
                      )
                      .join("")}
                </ul>
                
                <h3 style="color: #2d3748; margin-bottom: 15px;">üöÄ Getting Started</h3>
                <code style="background: #f7fafc; padding: 10px; border-radius: 5px; display: block; margin-bottom: 20px;">${
                  tool.getStarted
                }</code>
                
                <h3 style="color: #2d3748; margin-bottom: 15px;">üîó Useful Links</h3>
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    ${tool.links
                      .map(
                        (link) => `
                        <a href="${link}" target="_blank" style="
                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                            color: white;
                            padding: 8px 16px;
                            border-radius: 20px;
                            text-decoration: none;
                            font-size: 0.9rem;
                            transition: transform 0.3s ease;
                        " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            Visit Resource
                        </a>
                    `
                      )
                      .join("")}
                </div>
            `;

        document.getElementById("toolModal").style.display = "block";
      }

      // Close modal
      function closeModal() {
        document.getElementById("toolModal").style.display = "none";
      }

      // Setup intersection observer for scroll animations
      function setupIntersectionObserver() {
        const observerOptions = {
          threshold: 0.1,
          rootMargin: "0px 0px -50px 0px",
        };

        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("visible");
            }
          });
        }, observerOptions);

        document.querySelectorAll(".section").forEach((section) => {
          observer.observe(section);
        });
      }

      // Setup navigation
      function setupNavigation() {
        const navItems = document.querySelectorAll(".nav-item");

        navItems.forEach((item) => {
          item.addEventListener("click", (e) => {
            e.preventDefault();
            const targetId = item.getAttribute("href").substring(1);
            const targetElement = document.getElementById(targetId);

            if (targetElement) {
              targetElement.scrollIntoView({
                behavior: "smooth",
                block: "start",
              });

              // Update active nav item
              navItems.forEach((nav) => nav.classList.remove("active"));
              item.classList.add("active");
            }
          });
        });

        // Update active nav on scroll
        window.addEventListener("scroll", () => {
          const sections = document.querySelectorAll(".section");
          const scrollPos = window.scrollY + 100;

          sections.forEach((section) => {
            const top = section.offsetTop;
            const bottom = top + section.offsetHeight;
            const id = section.getAttribute("id");

            if (scrollPos >= top && scrollPos < bottom) {
              navItems.forEach((nav) => nav.classList.remove("active"));
              const activeNav = document.querySelector(
                `[data-section="${id}"]`
              );
              if (activeNav) activeNav.classList.add("active");
            }
          });
        });
      }

      // Save progress to localStorage
      function saveProgress() {
        const progressData = {
          completedTasks: Array.from(completedTasks),
          userStats: userStats,
          lastUpdated: new Date().toISOString(),
        };

        // Store in memory instead of localStorage for artifact compatibility
        window.progressData = progressData;
      }

      // Load progress from localStorage
      function loadProgress() {
        // Initialize with clean slate for artifact
        completedTasks = new Set();
        userStats = {
          hoursSpent: 0,
          skillsLearned: 0,
          currentStreak: 1,
          phasesCompleted: 0,
        };

        // Load from memory if available
        const saved = window.progressData;

        if (saved && saved.completedTasks) {
          completedTasks = new Set(saved.completedTasks);
          userStats = { ...userStats, ...saved.userStats };

          // Ensure no negative values
          Object.keys(userStats).forEach((key) => {
            if (typeof userStats[key] === "number") {
              userStats[key] = Math.max(0, userStats[key]);
            }
          });

          // Apply saved progress to UI
          setTimeout(() => {
            completedTasks.forEach((taskId) => {
              const [phase, task] = taskId.split("-");
              const item = document.querySelector(
                `[data-phase="${phase}"][data-task="${task}"]`
              );
              if (item) {
                const checkbox = item.querySelector(".checkbox");
                checkbox.classList.add("checked");
                item.classList.add("completed");
              }
            });
            updateOverallProgress();
            updateStats();
          }, 100);
        }
      }

      // Add keyboard shortcuts
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          closeModal();
        }
      });

      // Add click outside modal to close
      document.getElementById("toolModal").addEventListener("click", (e) => {
        if (e.target.id === "toolModal") {
          closeModal();
        }
      });

      // Simulate daily streak (for demo purposes)
      function updateStreak() {
        const lastVisit = window.lastVisit || new Date().toDateString();
        const today = new Date().toDateString();

        if (lastVisit !== today) {
          userStats.currentStreak += 1;
          window.lastVisit = today;
          updateStats();
          saveProgress();
        }
      }

      // Auto-save progress periodically
      setInterval(saveProgress, 30000); // Save every 30 seconds

      // Initialize when DOM is loaded
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", init);
      } else {
        init();
      }

      // Update streak on load
      setTimeout(updateStreak, 2000);

      // Add smooth scrolling for all anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const targetId = this.getAttribute("href").substring(1);
          const targetElement = document.getElementById(targetId);
          if (targetElement) {
            targetElement.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });

      // Add parallax effect to hero section
      window.addEventListener("scroll", () => {
        const scrolled = window.pageYOffset;
        const hero = document.querySelector(".hero");
        if (hero) {
          hero.style.transform = `translateY(${scrolled * 0.5}px)`;
          hero.style.opacity = Math.max(0, 1 - scrolled / 600);
        }
      });

      // Add progressive loading for better performance
      function lazyLoadImages() {
        const images = document.querySelectorAll("img[data-src]");
        const imageObserver = new IntersectionObserver((entries, observer) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              const img = entry.target;
              img.src = img.dataset.src;
              img.classList.remove("lazy");
              imageObserver.unobserve(img);
            }
          });
        });

        images.forEach((img) => imageObserver.observe(img));
      }

      // Initialize lazy loading
      lazyLoadImages();

      // Add success sound effect (using Web Audio API)
      function playSuccessSound() {
        if (
          typeof AudioContext !== "undefined" ||
          typeof webkitAudioContext !== "undefined"
        ) {
          const audioContext = new (AudioContext || webkitAudioContext)();
          const oscillator = audioContext.createOscillator();
          const gainNode = audioContext.createGain();

          oscillator.connect(gainNode);
          gainNode.connect(audioContext.destination);

          oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
          oscillator.frequency.setValueAtTime(
            1000,
            audioContext.currentTime + 0.1
          );

          gainNode.gain.setValueAtTime(0, audioContext.currentTime);
          gainNode.gain.setValueAtTime(0.3, audioContext.currentTime + 0.01);
          gainNode.gain.setValueAtTime(0, audioContext.currentTime + 0.2);

          oscillator.start(audioContext.currentTime);
          oscillator.stop(audioContext.currentTime + 0.2);
        }
      }

      // Enhanced toggle task with sound
      const originalToggleTask = toggleTask;
      toggleTask = function (item) {
        const wasCompleted = item.classList.contains("completed");
        originalToggleTask(item);

        if (!wasCompleted && item.classList.contains("completed")) {
          playSuccessSound();
        }
      };

      console.log("üîê Blockchain Security Roadmap initialized successfully!");
      console.log(
        "üí° Tip: Click on tasks to mark them as complete and track your progress!"
      );
    </script>
  </body>
</html>
